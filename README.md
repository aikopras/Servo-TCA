# <a name="Servo_TCA"></a>Servo TCA Library #

Servo library using the TCA timer(s) of modern 8-bit AVR Microchip processors. Depending on the processor, 3 or 6 servo's can be controlled by a single processor. Supported processors are MegacoreX, megaTinyCore (ATtiny 0, 1 and 2 series) and DxCore (DA, DB, DD, DU and EA series).


## Relation to existing Arduino servo libraries ##
This library is upwards compatible with standard servo libraries. Some extra functions are added to allow better control regarding the start and stop behavior of the attached servo's.

#### Why this library? ####
Standard Arduino servo libraries rely on a single (usually 16 bit) timer to generate an interrupt (ISR) when the PWM puls for the current servo should end, and the puls for the subsequent servo should start. Within the ISR, functions like digitalWrite(), are generally used to switch the pulses on and off. This approach has as disadvantage that the exact time the pulses will change, may vary, depending on occurrence or absence of other interrupts. The standard servo PWM signal may therefore show some jitter, resulting into noise produced by the servo.

With this library, the PWM servo pulses are generated by hardware, using the Compare Unit / Waveform Output, that is available in many processors. Usage of such hardware results into a superior PWM servo signal.

___
## Resources
The library has been tested on the following processors: ATMEGA 4809 (Arduino Nano Every), ATtiny 1607, ATtiny 3217, ATtiny 1627, AVR128DA48, AVR64DD32 and AVR64EA48. For 1 servo, it needs around 500 bytes of Flash and 10 bytes of RAM. For 3 servo's it needs around 800 bytes of Flash and 16 bytes of RAM. For 6 servo's 1600 bytes Flash and 32 bytes of RAM are needed.

The overhead of TCA interrupts is, when a single TCA timer is used (thus 1..3 Servo's), roughly 6us every 6,67 ms. When 2 TCA timers are used (upto 6 servo's), it is 6us per 3,33ms.
For comparison: the overhead of the millis() timer is around 1,8us every 1ms.

See [possible pins ](extras/ProcessorsAndPins.md) to learn which pins can be used on which processor. Use the provided examples to test this.
